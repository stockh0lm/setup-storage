#!/usr/bin/perl -w

use strict;
use File::Temp;

package FAI;

%FAI::ErrorHash = (
"parted_1" => "Parted produced error. Couldn't remove Partition", 
);

#my $error = &execute_command("parted rm 9 -s");


sub execute_command
{
  my ($command) = @_;
  (my $stderr_fh, my $stderr_filename) = File::Temp::tempfile();
  (my $stdout_fh, my $stdout_filename) = File::Temp::tempfile();
  `$command 1> $stdout_filename 2> $stderr_filename` ;
  my $stderr =  <$stderr_fh>;
  my $stdout = <$stdout_fh>;
  close($stderr_fh);
  close($stdout_fh);

  if( $command =~ /.*parted.*/ && $stderr =~ /.*Error: Could not stat device rm - No such file or directory.*/)
  {
    return "parted_1";
  }
}


1;

